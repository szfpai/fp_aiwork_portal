"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useSubtableView = useSubtableView;
var _vue = require("vue");
var _xeUtils = _interopRequireDefault(require("xe-utils"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function useSubtableView(props) {
  const currWidget = (0, _vue.computed)(() => {
    const {
      renderParams
    } = props;
    return renderParams.widget;
  });
  const currColumn = (0, _vue.computed)(() => {
    const {
      renderParams
    } = props;
    return renderParams.column;
  });
  const currRow = (0, _vue.computed)(() => {
    const {
      renderParams
    } = props;
    return renderParams.row;
  });
  const widgetOptions = (0, _vue.computed)(() => {
    const {
      renderParams
    } = props;
    const {
      widget
    } = renderParams;
    return widget ? widget.options : {};
  });
  const cellModel = (0, _vue.computed)({
    get() {
      const {
        renderParams
      } = props;
      const {
        row,
        column
      } = renderParams;
      return _xeUtils.default.get(row, column.field);
    },
    set(value) {
      const {
        renderParams
      } = props;
      const {
        row,
        column
      } = renderParams;
      return _xeUtils.default.set(row, column.field, value);
    }
  });
  return {
    currColumn,
    currRow,
    currWidget,
    widgetOptions,
    cellModel
  };
}