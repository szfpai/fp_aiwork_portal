{"version":3,"file":"chat-reasoning.js","sources":["../../src/chat/chat-reasoning.tsx"],"sourcesContent":["import { defineComponent, computed, provide, inject, ComputedRef, toRefs } from 'vue';\nimport { usePrefixClass } from '../hooks/useConfig';\nimport props from './chat-reasoning-props';\nimport { Collapse, CollapsePanel } from 'tdesign-vue-next';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport useVModel from '../hooks/useVModel';\n\nexport default defineComponent({\n  name: 'TChatReasoning',\n  props,\n  emits: ['update:collapsed'],\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('chat');\n    const injectedRole = inject<ComputedRef<string>>('role');\n    const role = computed(() => injectedRole?.value || '');\n    provide('role', role);\n    const renderTNodeJSX = useTNodeJSX();\n    const { collapsed, modelValue } = toRefs(props);\n    // Use useVModel for collapsed\n    const [innerCollapsed, setInnerCollapsed] = useVModel(\n      collapsed,\n      modelValue,\n      props.defaultCollapsed,\n      props.onExpandChange,\n      'collapsed',\n    );\n\n    const onChangeFn = (value: Array<number>) => {\n      setInnerCollapsed(value.length === 0); // Update collapsed state based on value\n    };\n\n    return () => (\n      <div class={`${COMPONENT_NAME.value}__detail-reasoning`}>\n        <Collapse\n          borderless={true}\n          expandIconPlacement={props.expandIconPlacement}\n          onChange={onChangeFn}\n          value={innerCollapsed.value ? [] : [0]}\n        >\n          <CollapsePanel\n            expandIcon={true}\n            value={0}\n            v-slots={{\n              destroyOnCollapse: () => props?.collapsePanelProps?.destroyOnCollapse,\n              disabled: () => props?.collapsePanelProps?.disabled,\n              default: () => props?.collapsePanelProps?.content || renderTNodeJSX('default'),\n              header: () => props?.collapsePanelProps?.header || renderTNodeJSX('header'),\n              expandIcon: () => props?.collapsePanelProps?.expandIcon || renderTNodeJSX('expandIcon'),\n              headerRightContent: () =>\n                props?.collapsePanelProps?.headerRightContent || renderTNodeJSX('headerRightContent'),\n              content: () => props?.collapsePanelProps?.content || renderTNodeJSX('default'),\n            }}\n          ></CollapsePanel>\n        </Collapse>\n      </div>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","emits","setup","COMPONENT_NAME","usePrefixClass","injectedRole","inject","role","computed","value","provide","renderTNodeJSX","useTNodeJSX","_toRefs","toRefs","collapsed","modelValue","_useVModel","useVModel","defaultCollapsed","onExpandChange","_useVModel2","_slicedToArray","innerCollapsed","setInnerCollapsed","onChangeFn","length","_createVNode","concat","Collapse","expandIconPlacement","_default","CollapsePanel","destroyOnCollapse","_props2$collapsePanel","collapsePanelProps","disabled","_props2$collapsePanel2","default","_props2$collapsePanel3","content","header","_props2$collapsePanel4","expandIcon","_props2$collapsePanel5","headerRightContent","_props2$collapsePanel6","_props2$collapsePanel7"],"mappings":"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"}