/**
 * tdesign-vue-chat v0.3.0
 * (c) 2025 tdesign
 * @license MIT
 */

import { defineComponent, createVNode } from 'vue';
import props from './props.js';
import _Chat from './chat.js';
import ChatItem from './chat-item.js';
import _ChatInput from './chat-input.js';
import _ChatAction from './chat-action.js';
import { useChat } from './useChat.js';
import '@babel/runtime/helpers/defineProperty';
import 'tdesign-vue-next';
import 'tdesign-icons-vue-next';
import 'lodash-es';
import '../hooks/useConfig.js';
import '../config-provider/useConfig.js';
import '../_chunks/dep-71e79d05.js';
import '../_chunks/dep-bcb12ef4.js';
import '@babel/runtime/helpers/typeof';
import '../_chunks/dep-00225ab5.js';
import '../_chunks/dep-9877a0b1.js';
import '../_chunks/dep-790f0c90.js';
import '../_chunks/dep-f4def779.js';
import '../_chunks/dep-9ad1aba4.js';
import '../_common/js/global-config/default-config.js';
import '../_common/js/global-config/locale/zh_CN.js';
import '../_chunks/dep-e130a03a.js';
import '../_chunks/dep-7c13804f.js';
import '../_chunks/dep-7ca3deee.js';
import '../_chunks/dep-44c1237e.js';
import '../hooks/tnode.js';
import '../_chunks/dep-0c30715b.js';
import '../_chunks/dep-e93ca1b3.js';
import '../_chunks/dep-3c645bb6.js';
import '../utils/render-tnode.js';
import './chat-item-props.js';
import './chat-content.js';
import 'clipboard';
import 'highlight.js';
import 'marked';
import 'marked-highlight';
import './chat-loading.js';
import './chat-reasoning.js';
import '@babel/runtime/helpers/slicedToArray';
import './chat-reasoning-props.js';
import '../hooks/useVModel.js';
import './util.js';
import '@babel/runtime/helpers/classCallCheck';
import '@babel/runtime/helpers/createClass';
import '@babel/runtime/helpers/asyncToGenerator';
import '@babel/runtime/regenerator';
import './sseRequest.js';
import '@babel/runtime/helpers/toConsumableArray';
import './sseRequest-hunyuan.js';

var _ChatAI = defineComponent({
  name: "TChatAi",
  components: {
    Chat: _Chat,
    ChatItem: ChatItem,
    ChatInput: _ChatInput,
    ChatAction: _ChatAction
  },
  props: {
    apiKey: {
      type: String
    },
    welcome: {
      type: Array,
      "default": function _default() {
        return [];
      }
    },
    userMeta: {
      type: Object,
      "default": function _default() {
        return {};
      }
    },
    assistantMeta: {
      type: Object,
      "default": function _default() {
        return {};
      }
    },
    footer: {
      type: Boolean,
      "default": true
    },
    showUserMsg: {
      type: Boolean,
      "default": true
    },
    operationBtn: props.operationBtn,
    layout: props.layout,
    chatRequest: {
      type: Function
    },
    model: {
      type: String,
      "default": ""
    },
    onOperation: props.onOperation
  },
  emits: ["operation", "clear"],
  setup: function setup(props2, _ref) {
    var emit = _ref.emit;
    var _useChat = useChat(props2, emit),
      chatList = _useChat.chatList,
      loading = _useChat.loading,
      onStop = _useChat.onStop,
      operation = _useChat.operation,
      clearConfirm = _useChat.clearConfirm,
      isStreamLoad = _useChat.isStreamLoad,
      sendRequest = _useChat.sendRequest;
    var handleSend = function handleSend(inputValue) {
      sendRequest("hunyuan", inputValue, props2.model);
    };
    return function () {
      return createVNode(_Chat, {
        "layout": props2.layout,
        "clearHistory": chatList.value.length > 0 && !isStreamLoad.value,
        "onClear": clearConfirm
      }, {
        "default": function _default() {
          return [chatList.value.map(function (item, index) {
            return createVNode(ChatItem, {
              "key": index,
              "avatar": item.avatar,
              "role": item.role,
              "datetime": item.datetime,
              "content": item.content,
              "text-loading": index === 0 && loading.value
            }, {
              actions: function actions() {
                return createVNode(_ChatAction, {
                  "operationBtn": props2.operationBtn,
                  "content": item.content,
                  "onOperation": function onOperation(type, _ref2) {
                    var e = _ref2.e;
                    return operation(type, {
                      e: e,
                      index: index
                    });
                  }
                }, null);
              }
            });
          })];
        },
        footer: function footer() {
          return createVNode(_ChatInput, {
            "stopDisabled": isStreamLoad.value,
            "onSend": handleSend,
            "onStop": onStop
          }, null);
        }
      });
    };
  }
});

export { _ChatAI as default };
//# sourceMappingURL=chat-ai.js.map
